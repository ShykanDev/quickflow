"use strict";(self["webpackChunkquick_flow"]=self["webpackChunkquick_flow"]||[]).push([[141],{8362:function(e,t,s){s.d(t,{C:function(){return a}});var l=s(5234);const a=(0,l.nY)("UseBackupHistorySales",{state(){return{allBackupsHistorySales:[],allBackupsHistoryExpenses:[]}},getters:{getBackupsSalesHistory(){return this.allBackupsHistorySales},getBackupsExpensesHistory(){return this.allBackupsHistoryExpenses}},actions:{pushNewBackupSale(e){this.allBackupsHistorySales.unshift(e)},pushNewBackupExpense(e){this.allBackupsHistoryExpenses.unshift(e)}},persist:!0})},361:function(e,t,s){s.d(t,{A:function(){return u}});var l=s(6768),a=s(144);const o={class:"flex justify-center card"};var n={__name:"PieChart",props:{labels:{type:Array,required:!0,default:()=>["Ingresos Totales","Gastos Totales","Balance Final"]},dataSet:{type:Array,required:!0,default:()=>[1e4,1e3,9e3]}},setup(e){const t=e,s=(0,a.KR)(),n=(0,a.KR)(),r=(0,a.KR)(),u=(0,a.KR)(),d=()=>{const e=t.labels.length;return 2===e?(r.value=["#db3c30","#3eb489"],u.value=["#e02d2d","#2ecc71"]):3===e&&(r.value=["#0369A1","#f44336","#2e7d32"],u.value=["#027abd","#e02d2d","#1b5e20"]),{labels:t.labels,datasets:[{data:t.dataSet,backgroundColor:r.value,hoverBackgroundColor:u.value}]}},i=()=>{const e=getComputedStyle(document.documentElement),t=e.getPropertyValue("--p-text-color");return{plugins:{legend:{labels:{usePointStyle:!0,color:t}}}}};return(0,l.sV)((()=>{s.value=d(),n.value=i()})),(e,t)=>{const a=(0,l.g2)("PrimeChart");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(a,{type:"pie",data:s.value,options:n.value,class:"w-52 sm:w-[18rem]"},null,8,["data","options"])])}}};const r=n;var u=r},7045:function(e,t,s){s.r(t),s.d(t,{default:function(){return D}});var l=s(6768),a=s(144),o=s(4232),n=s(3443),r=s(8362),u=s(489),d=s(361);const i={class:""},c=(0,l.Lk)("div",{class:"fixed top-0 bottom-0 left-0 right-0 bg-slate-100 -z-20"},null,-1),p={class:"flex flex-col items-center animate-fade-up"},x={key:0,class:"flex flex-col items-center gap-1 pb-5"},f=(0,l.Lk)("h1",{class:"pt-2 text-2xl font-medium text-sky-800 font-poppins"},"Historial De Ventas",-1),k={key:1,class:"flex items-center justify-around w-full my-2"},m=(0,l.Lk)("p",{class:"py-[2px] px-[10px] text-2xl text-white bg-sky-700 rounded-xl shadow-sm"},"Ventas",-1),y={class:"flex w-full justify-evenly"},v={class:"flex flex-col items-center justify-center gap-1 bg-white shadow-md rounded-xl"},b={class:"flex flex-wrap justify-center gap-1"},g=(0,l.Lk)("p",{class:"font-medium text-sky-900"},"Fecha de guardado: ",-1),h={class:"font-bold text-sky-900"},w={class:"flex flex-col items-center gap-1"},C={class:"p-1 font-bold text-white rounded-md bg-sky-700"},E={class:"p-1 font-bold text-white bg-red-600 rounded-md"},L={class:"p-1 font-bold text-white bg-green-800 rounded-md"},R={class:"flex flex-wrap justify-center gap-1 shadow-md bg-slate-50 rounded-xl"},_={class:"text-base font-bold text-sky-900"},B=(0,l.Lk)("p",{class:"font-medium text-sky-900"},"Total en esta venta:",-1),X={class:"inline-block p-1 mb-2 font-bold text-white shadow-md bg-sky-800 rounded-xl"},S={key:0,class:"inline-block p-1 mb-1 font-bold transition-transform bg-white shadow-md cursor-pointer text-sky-900 rounded-xl hover:scale-105 hover:border hover:border-sky-900"},H={key:1,class:"inline-block p-1 mb-1 font-bold bg-white shadow-md text-sky-900 rounded-xl hover:scale-105 hover:border hover:border-sky-900-"},F={key:2,class:"flex flex-wrap justify-center w-full gap-1"},K={key:0,class:"min-w-[42%]"},j={class:"flex flex-wrap justify-center gap-1 text-white shadow-md bg-sky-800 rounded-xl"},A=(0,l.Lk)("p",{class:"font-medium"},"Fecha de guardado:",-1),N={class:"font-bold"},O={class:"flex flex-col justify-start gap-1 p-1 mb-1 bg-white shadow-md rounded-xl"},Q={class:"flex flex-wrap gap-1"},$=(0,l.Lk)("p",{class:"text-base font-medium text-sky-900"},"Motivo:",-1),I={class:"text-base font-semibold text-sky-900"},V={class:"flex flex-wrap gap-1"},q=(0,l.Lk)("p",{class:"text-base font-medium text-sky-900"}," Gasto:",-1),T={class:"text-base font-semibold text-sky-900"};var P=(0,l.pM)({__name:"HistoryView",setup(e){const t=(0,r.C)(),s=(0,u.t)();let P=(0,l.EW)((()=>t.getBackupsSalesHistory)),W=(0,l.EW)((()=>t.getBackupsExpensesHistory)),D=(0,l.EW)((()=>s.getTotalFinancialHistory)),G=(0,a.KR)(!1);const M=()=>{G.value=!G.value};return(0,l.sV)((()=>{console.log("salesBackups:",t.getBackupsSalesHistory)})),(e,t)=>{const s=(0,l.g2)("RouterLink");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(n.A,null,{main:(0,l.k6)((()=>[c,(0,l.Lk)("div",p,[(0,a.R1)(P).length<1?((0,l.uX)(),(0,l.CE)("div",x,[f,(0,l.Lk)("p",null,[(0,l.eW)("Aqui se mostrará el resumen histórico de ventas cada que se guarden los datos en el boton 'guardar' en la seccion de "),(0,l.bF)(s,{to:{name:"sales"},class:"text-lg font-bold underline text-sky-800"},{default:(0,l.k6)((()=>[(0,l.eW)("ventas")])),_:1})])])):(0,l.Q3)("",!0),(0,a.R1)(P).length>0?((0,l.uX)(),(0,l.CE)("div",k,[m,(0,l.Lk)("div",null,[(0,a.R1)(G)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("p",{key:0,onClick:M,class:"py-[2px] cursor-pointer px-[10px] text-2xl text-white bg-gray-600 rounded-xl shadow-sm"},"Ver Gastos")),(0,a.R1)(G)?((0,l.uX)(),(0,l.CE)("p",{key:1,onClick:M,class:"py-[2px] cursor-pointer px-[10px] text-2xl text-white bg-sky-700 rounded-xl shadow-sm"},"Ocultar gastos")):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),(0,l.Lk)("section",y,[(0,l.Lk)("div",{class:(0,o.C4)([{"w-full":!(0,a.R1)(G)},"flex flex-col min-w-[55%]"])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,a.R1)(P),(e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"flex flex-col gap-1 p-1 py-1 mb-4 overflow-auto bg-gray-200 shadow-md full max-h-96 min-h-96 rounded-xl"},[(0,l.Lk)("div",v,[(0,l.Lk)("div",b,[g,(0,l.Lk)("p",h,(0,o.v_)(e[0][0].itemDate.substring(0,9)),1)]),(0,l.Lk)("div",w,[(0,l.Lk)("p",C,"Ingresos Netos: $"+(0,o.v_)((0,a.R1)(D)[(0,a.R1)(P).indexOf(e)].totalSale),1),(0,l.Lk)("p",E,"Gastos: $"+(0,o.v_)((0,a.R1)(D)[(0,a.R1)(P).indexOf(e)].totalExpenses),1),(0,l.Lk)("p",L,"Balance: $ "+(0,o.v_)((0,a.R1)(D)[(0,a.R1)(P).indexOf(e)].finalBalance),1)]),(0,l.bF)(d.A,{dataSet:[(0,a.R1)(D)[(0,a.R1)(P).indexOf(e)].totalSale,(0,a.R1)(D)[(0,a.R1)(P).indexOf(e)].totalExpenses,(0,a.R1)(D)[(0,a.R1)(P).indexOf(e)].finalBalance]},null,8,["dataSet"])]),(0,l.Lk)("div",R,[(0,l.Lk)("p",_,(0,o.v_)(e.length)+" ventas",1)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"px-3 py-2 shadow-md bg-slate-50 rounded-xl"},[B,(0,l.Lk)("p",X,"$"+(0,o.v_)(e.find((e=>e.itemDate)).grandTotal),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"flex flex-wrap"},[e.itemName&&"Otros"!==e.itemName?((0,l.uX)(),(0,l.CE)("p",S,(0,o.v_)(e.itemAmount)+" "+(0,o.v_)(e.itemName)+" de $"+(0,o.v_)(e.itemPrice)+" ($"+(0,o.v_)(e.itemSubtotal)+")",1)):(0,l.Q3)("",!0),e.itemName&&"Otros"===e.itemName?((0,l.uX)(),(0,l.CE)("p",H,(0,o.v_)(e.itemName)+" ($"+(0,o.v_)(e.itemSubtotal)+")",1)):(0,l.Q3)("",!0),e.grandTotal?((0,l.uX)(),(0,l.CE)("div",F)):(0,l.Q3)("",!0)])))),128))])))),128))])))),128))],2),(0,a.R1)(G)?((0,l.uX)(),(0,l.CE)("div",K,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,a.R1)(W),(e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"flex flex-col gap-1 p-3 py-2 mb-4 overflow-auto bg-gray-100 shadow-md full max-h-96 min-h-96 rounded-xl"},[(0,l.Lk)("div",j,[A,(0,l.Lk)("p",N,(0,o.v_)(e[0].expenseDate.substring(0,9)),1)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e},[(0,l.Lk)("div",O,[(0,l.Lk)("div",Q,[$,(0,l.Lk)("p",I,"'"+(0,o.v_)(e.expenseReason)+"' ",1)]),(0,l.Lk)("div",V,[q,(0,l.Lk)("p",T," $"+(0,o.v_)(e.expenseAmount),1)])])])))),128))])))),128))])):(0,l.Q3)("",!0)])])])),_:1})])}}});const W=P;var D=W}}]);
//# sourceMappingURL=history.9e9c7a29.js.map