"use strict";(self["webpackChunkquick_flow"]=self["webpackChunkquick_flow"]||[]).push([[189],{8362:function(e,t,s){s.d(t,{C:function(){return a}});var l=s(5234);const a=(0,l.nY)("UseBackupHistorySales",{state(){return{allBackupsHistorySales:[],allBackupsHistoryExpenses:[]}},getters:{getBackupsSalesHistory(){return this.allBackupsHistorySales},getBackupsExpensesHistory(){return this.allBackupsHistoryExpenses}},actions:{pushNewBackupSale(e){this.allBackupsHistorySales.unshift(e)},pushNewBackupExpense(e){this.allBackupsHistoryExpenses.unshift(e)}},persist:!0})},361:function(e,t,s){s.d(t,{A:function(){return u}});var l=s(6768),a=s(144);const o={class:"flex justify-center card"};var n={__name:"PieChart",props:{labels:{type:Array,required:!0,default:()=>["Ingresos Totales","Gastos Totales","Balance Final"]},dataSet:{type:Array,required:!0,default:()=>[1e4,1e3,9e3]}},setup(e){const t=e,s=(0,a.KR)(),n=(0,a.KR)({responsive:!0,maintainAspectRatio:!1}),r=(0,a.KR)(),u=(0,a.KR)(),i=()=>{const e=t.labels.length;return 2===e?(r.value=["#db3c30","#3eb489"],u.value=["#e02d2d","#2ecc71"]):3===e&&(r.value=["#0369A1","#f44336","#2e7d32"],u.value=["#027abd","#e02d2d","#1b5e20"]),{labels:t.labels,datasets:[{data:t.dataSet,backgroundColor:r.value,hoverBackgroundColor:u.value}]}},c=()=>{const e=getComputedStyle(document.documentElement),t=e.getPropertyValue("--p-text-color");return{plugins:{legend:{labels:{usePointStyle:!0,color:t}}}}};return(0,l.sV)((()=>{s.value=i(),n.value=c()})),(e,t)=>{const a=(0,l.g2)("PrimeChart");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(a,{type:"pie",data:s.value,options:n.value,class:"w-52 sm:w-[18rem]"},null,8,["data","options"])])}}};const r=n;var u=r},8739:function(e,t,s){s.r(t),s.d(t,{default:function(){return ue}});s(4114);var l=s(6768),a=s(144),o=s(4232),n=s(5130),r=s(3443),u=s(489),i=s(8362),c=s(9148),d=s.n(c),p=s(638),m=s(361);const x={class:""},f=(0,l.Lk)("div",{class:"fixed top-0 bottom-0 left-0 right-0 bg-slate-100 -z-20"},null,-1),k={class:"flex flex-col w-full gap-4 min-h-dvh pb-9 animate-fade-down"},v=(0,l.Lk)("h1",{class:"text-3xl font-medium font-poppins text-sky-800"},"Ventas",-1),y=(0,l.Lk)("h2",{class:"text-xl font-"},"Ir al inicio",-1),g={class:"flex items-center pl-3"},h={class:"flex p-1 bg-white shadow-md rounded-2xl"},b=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Ingresos Netos: ",-1),w={class:"flex items-center pl-2 text-lg font-medium justify-left font-poppins"},E={key:0,class:"pr-2 text-xl text-sky-800"},R={key:1,class:"pr-2 text-xl text-sky-800"},C={class:"flex items-center pl-3"},L=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Ver Informacion detallada",-1),S={class:"flex items-center pl-2 text-lg justify-left font-poppins"},X={class:"flex items-center justify-center w-[98%]"},H={key:0,class:"box-border w-full py-2 bg-white shadow-md rounded-2xl animate-fade-up"},B={class:"flex flex-wrap items-center justify-center w-full gap-1"},Q={class:"flex items-center gap-2 px-1 ml-1 text-lg text-white bg-red-800 rounded-2xl justify-left font-poppins"},K=(0,l.Lk)("h2",{class:"text-lg font-medium text-white"},"Gastos: ",-1),N={key:0,class:"text-xl font-medium"},_={key:1,class:"text-xl font-medium"},A={class:"flex items-center gap-2 ml-2 text-lg justify-left font-poppins text-white bg-[#3EB489] rounded-2xl px-1"},F=(0,l.Lk)("h2",{class:"text-lg font-medium"},"Balance Final: ",-1),j={key:0,class:"text-xl font-medium"},T={key:1,class:"text-xl font-medium"},D={class:"flex flex-col items-start w-full gap-2 ml-5 text-lg font-poppins"},U={class:"flex items-center gap-2"},$=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Agregar Gasto",-1),V={key:0,class:"flex flex-col items-start gap-2 animate-fade-right"},G=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Motivo",-1),W=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Gasto",-1),I={class:"flex items-center bg-white shadow-sm"},M=(0,l.Lk)("p",null,"$",-1),Y={key:0,class:"px-1 text-xl font-medium text-white rounded-xl bg-sky-700 animate-jump"},q={key:1,class:"text-sm font-semibold text-red-700"},P={class:"flex flex-wrap justify-center gap-5"},J={class:"absolute top-1 right-1"},O={class:"text-sm font-medium text-sky-800"},z={key:0,class:"flex flex-wrap items-center justify-start w-full gap-1"},Z={key:0,class:"text-lg font-medium text-sky-700"},ee={key:1,class:"text-lg font-medium text-sky-700"},te={key:2,class:"text-lg font-medium underline text-sky-900"},se={key:1,class:"flex flex-wrap items-center justify-start w-full gap-1"},le={key:0,class:"text-lg font-medium text-sky-700"},ae={key:1,class:"text-lg font-medium underline text-sky-900"},oe={class:"pt-2 text-xl font-bold text-sky-900"};var ne=(0,l.pM)({__name:"SalesView",setup(e){const t=(0,u.t)();let s=(0,u.t)().getSalesHistory;const c=(0,i.C)();let ne=(0,a.KR)(0),re=(0,a.KR)(!1),ue=(0,a.KR)(!0);const ie=()=>re.value=!re.value;let ce=(0,a.KR)(0);let de=(0,a.KR)(!1),pe=(0,a.KR)("");const me=(0,a.KR)(!1);let xe=(0,a.KR)(""),fe=(0,a.KR)(""),ke=(0,a.KR)(0),ve=null,ye=(0,a.KR)(!1);const ge=()=>{ye.value=!ye.value},he=()=>{if(!fe.value||!ke.value)return me.value=!0,void(xe.value="Verifica haber rellenado todos los campos");me.value=!1,ue.value=!1;const e=(0,a.Kh)({expenseReason:fe.value,expenseAmount:ke.value,expenseDate:d()().format("DD/MM/YY HH:mm:ss")});ve&&clearTimeout(ve);try{de.value=!1,t.pushUserNewExpense(e),fe.value="",ke.value=0,me.value=!1,console.log("Expense added successfully",t.getUserExpenses),ce.value=t.getExpensesReduced,be.value=ne.value-t.getExpensesReduced,de.value=!0,pe.value="Gasto agregado",ve=setTimeout((()=>{de.value=!1,ue.value=!0}),2e3)}catch(s){console.error("Could not add expenses",s)}};let be=(0,a.KR)(0),we=(0,a.KR)(!1);const Ee=()=>{we.value=!we.value,we.value?re.value=!0:re.value=!1},Re=()=>{try{if(t.getSalesHistory.length<1)return void alert("Necesitas tener al menos una venta");if(t.getUserExpenses.length<1)return c.pushNewBackupSale(s),c.pushNewBackupExpense([{expenseReason:"No hay gastos",expenseAmount:0,expenseDate:d()().format("DD/MM/YY HH:mm:ss")}]),t.pushNewFinancialHistory({totalSale:ne.value,totalExpenses:ce.value,finalBalance:be.value}),console.log("History Backup:",(0,i.C)().getBackupsExpensesHistory),console.log("SalesStore before deletion:",t.getSalesHistory),t.resetSalesHistory(),t.resetUserExpenses(),console.log("SalesStore after deletion:",t.getSalesHistory),s=t.getSalesHistory,t.resetTotalEarnedHistory(),t.resetTotalEarned(),ne.value=t.getTotalEarned,void p.A.push({name:"history"});c.pushNewBackupSale(t.getSalesHistory),c.pushNewBackupExpense(t.getUserExpenses),t.pushNewFinancialHistory({totalSale:ne.value,totalExpenses:ce.value,finalBalance:be.value}),t.resetTotalEarnedHistory(),t.resetTotalEarned(),ne.value=t.getTotalEarned,t.resetSalesHistory(),t.resetUserExpenses(),s=[],p.A.push({name:"history"})}catch(e){console.log("Error while trying to push backup")}};return(0,l.sV)((()=>{s.length>0&&(ne.value=t.getTotalEarned,ce.value=t.getExpensesReduced,be.value=t.getTotalEarned-t.getExpensesReduced),console.log("total gastos: ",t.getUserExpenses)})),(e,t)=>{const u=(0,l.g2)("v-icon"),i=(0,l.g2)("RouterLink");return(0,l.uX)(),(0,l.CE)("div",x,[(0,l.bF)(r.A,null,{main:(0,l.k6)((()=>[f,(0,l.Lk)("div",k,[v,(0,l.bF)(i,{to:{name:"home"},class:"flex items-center gap-2 p-1 ml-3 bg-white shadow-md animate-delay-200 animate-fade-down min-w-32 text-sky-800 rounded-2xl max-w-44"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{name:"hi-solid-home",color:"#246D93",scale:"1.6"}),y])),_:1}),(0,l.Lk)("div",g,[(0,l.Lk)("div",h,[(0,l.bF)(u,{class:"pr-1 bg-white cursor-pointer rounded-l-3xl",name:"gi-receive-money",scale:"1.5",color:"#246D93"}),b,(0,l.Lk)("div",w,[(0,a.R1)(re)?((0,l.uX)(),(0,l.CE)("h2",E,"$"+(0,o.v_)((0,a.R1)(ne)),1)):(0,l.Q3)("",!0),(0,a.R1)(re)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("h2",R,"$****")),(0,a.R1)(re)?((0,l.uX)(),(0,l.Wv)(u,{key:2,class:"cursor-pointer",onClick:ie,name:"io-eye-off-sharp",scale:"1.5",color:"#075985"})):(0,l.Q3)("",!0),(0,a.R1)(re)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(u,{key:3,class:"cursor-pointer",onClick:ie,name:"io-eye-sharp",scale:"1.5",color:"#075985"}))])])]),(0,l.Lk)("div",C,[(0,l.Lk)("div",{onClick:Ee,class:"flex p-1 px-2 bg-white shadow-md cursor-pointer rounded-2xl"},[L,(0,l.Lk)("div",S,[(0,a.R1)(we)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"cursor-pointer",name:"md-expandcircledown-round",scale:"1.5",color:"#075985"})),(0,a.R1)(we)?((0,l.uX)(),(0,l.Wv)(u,{key:1,class:"cursor-pointer",name:"md-expandcircledown-round",scale:"1.5",color:"#075985",flip:"vertical"})):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",X,[(0,a.R1)(we)?((0,l.uX)(),(0,l.CE)("section",H,[(0,l.Lk)("div",B,[(0,l.Lk)("div",Q,[(0,l.bF)(u,{class:"cursor-pointer",name:"gi-pay-money",scale:"1.5",color:"white"}),K,(0,a.R1)(re)?((0,l.uX)(),(0,l.CE)("h2",N,"$"+(0,o.v_)((0,a.R1)(ce)),1)):(0,l.Q3)("",!0),(0,a.R1)(re)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("h2",_,"$****"))]),(0,l.Lk)("div",A,[(0,l.bF)(u,{class:"cursor-pointer",name:"gi-money-stack",scale:"1.5",color:"white"}),F,(0,a.R1)(re)?((0,l.uX)(),(0,l.CE)("h2",j,"$"+(0,o.v_)((0,a.R1)(be)),1)):(0,l.Q3)("",!0),(0,a.R1)(re)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("h2",T,"$****"))])]),(0,a.R1)(ue)?((0,l.uX)(),(0,l.Wv)(m.A,{key:0,labels:["Gastos","Balance Final"],dataSet:[(0,a.R1)(ce),(0,a.R1)(be)]},null,8,["dataSet"])):(0,l.Q3)("",!0),(0,l.Lk)("div",D,[(0,l.Lk)("div",U,[$,(0,a.R1)(ye)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"cursor-pointer",onClick:ge,name:"md-addbox",scale:"1.2",color:"#075985"})),(0,a.R1)(ye)?((0,l.uX)(),(0,l.Wv)(u,{key:1,class:"cursor-pointer",onClick:ge,name:"ri-checkbox-indeterminate-fill",scale:"1.2",color:"#075985"})):(0,l.Q3)("",!0)]),(0,a.R1)(ye)?((0,l.uX)(),(0,l.CE)("section",V,[G,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.i9)(fe)?fe.value=e:fe=e),class:"w-full border-b-[1px] border-sky-800 shadow-sm focus:outline-none",type:"text",placeholder:"Compré agua y gas"},null,512),[[n.Jo,(0,a.R1)(fe)]]),W,(0,l.Lk)("div",I,[M,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.i9)(ke)?ke.value=e:ke=e),class:"w-full border-b-[1px] border-sky-800 shadow-sm focus:outline-none",type:"number",placeholder:"250",min:"0"},null,512),[[n.Jo,(0,a.R1)(ke)]])]),(0,l.Lk)("div",null,[(0,a.R1)(de)?((0,l.uX)(),(0,l.CE)("p",Y,(0,o.v_)((0,a.R1)(pe))+"!",1)):(0,l.Q3)("",!0),me.value?((0,l.uX)(),(0,l.CE)("p",q,(0,o.v_)((0,a.R1)(xe))+"!",1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{onClick:he,class:"p-1 text-xl text-white rounded-lg bg-sky-700 font-poppins"},"Añadir Gasto")])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",{class:"flex justify-end w-full pr-6 mt-9"},[(0,l.Lk)("button",{onClick:Re,class:"p-1 text-sm text-white rounded-lg bg-sky-700 font-poppins min-w-48"},"Guardar y Reestablecer Datos")]),(0,l.Lk)("section",P,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,a.R1)(s),((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"box-border relative flex flex-col items-start w-11/12 px-2 transition-transform duration-300 ease-out bg-white shadow-md tex8-black py-7 rounded-xl justify-evenly min-w-24 min-h-44 font-poppins hover:border-sky-800 hover:border hover:scale-105"},[(0,l.Lk)("div",J,[(0,l.Lk)("p",O,"Fecha: "+(0,o.v_)(e[0].itemDate),1)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"flex items-center justify-center w-full"},[e.itemName&&"Otros"!==e.itemName?((0,l.uX)(),(0,l.CE)("div",z,[e.itemAmount?((0,l.uX)(),(0,l.CE)("p",Z,(0,o.v_)(e.itemAmount),1)):(0,l.Q3)("",!0),e.itemName?((0,l.uX)(),(0,l.CE)("p",ee,(0,o.v_)(e.itemName),1)):(0,l.Q3)("",!0),e.itemSubtotal?((0,l.uX)(),(0,l.CE)("p",te,"$"+(0,o.v_)(e.itemSubtotal),1)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),e.itemName&&"Otros"===e.itemName?((0,l.uX)(),(0,l.CE)("div",se,[e.itemName?((0,l.uX)(),(0,l.CE)("p",le,(0,o.v_)(e.itemName),1)):(0,l.Q3)("",!0),e.itemSubtotal?((0,l.uX)(),(0,l.CE)("p",ae,"$"+(0,o.v_)(e.itemSubtotal),1)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])))),128)),(0,l.Lk)("p",oe,"Total: $"+(0,o.v_)(e[0].grandTotal)+".00 ",1)])))),128))])])])),_:1})])}}});const re=ne;var ue=re}}]);
//# sourceMappingURL=sales.8a05ce25.js.map