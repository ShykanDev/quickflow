{"version":3,"file":"js/history.1929898b.js","mappings":"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","sources":["webpack://quick_flow/./src/store/UseBackupHistorySales.ts","webpack://quick_flow/./src/components/charts/PieChart.vue","webpack://quick_flow/./src/components/charts/PieChart.vue?642f","webpack://quick_flow/./src/views/HistoryView.vue?d2a7","webpack://quick_flow/./src/views/HistoryView.vue","webpack://quick_flow/./src/views/HistoryView.vue?e071"],"sourcesContent":["import { defineStore } from \"pinia\";\r\n\r\nexport const UseBackupHistorySales = defineStore('UseBackupHistorySales', {\r\n    state() {\r\n        return{\r\n            allBackupsHistorySales: [] as Array<any>,\r\n            allBackupsHistoryExpenses: [] as Array<any>\r\n        }\r\n    },\r\n    getters:{\r\n        getBackupsSalesHistory():Array<any>{\r\n            return this.allBackupsHistorySales;\r\n        },\r\n        getBackupsExpensesHistory():Array<any>{\r\n            return this.allBackupsHistoryExpenses;\r\n        }\r\n    },\r\n    actions:{\r\n        pushNewBackupSale(newBackup:object):void{\r\n            this.allBackupsHistorySales.unshift(newBackup)\r\n        },\r\n        pushNewBackupExpense(newBackup:object):void{\r\n            this.allBackupsHistoryExpenses.unshift(newBackup)\r\n        }\r\n    },\r\n    persist: true\r\n})","\r\n<template>\r\n    <div class=\"flex justify-center card\">\r\n        <PrimeChart type=\"pie\" :data=\"chartData\" :options=\"chartOptions\" class=\"w-52 sm:w-[18rem]\" />\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { defineProps } from \"vue\";\r\n    const props = defineProps({\r\n        labels:{\r\n            type:Array,\r\n            required:true,\r\n            default: () => ['Ingresos Totales', 'Gastos Totales', 'Balance Final'],\r\n        },\r\n        dataSet:{\r\n            type:Array,\r\n            required:true,\r\n            default: () => [10000, 1000, 9000]\r\n        }\r\n    })\r\n\r\nconst chartData = ref();\r\nconst chartOptions = ref();\r\n\r\nconst bgColor = ref();\r\nconst bgHover = ref();\r\nconst setChartData = () => {\r\n    const labelsLength = props.labels.length;\r\n\r\n    // Verifica las etiquetas y ajusta los colores en función de si están \"Gastos Totales\" o \"Balance Final\"\r\n    if (labelsLength === 2) {\r\n        // Si tienes solo dos datos, asegúrate de usar rojo para gastos y azul o verde para ingresos\r\n        bgColor.value = ['#db3c30', '#3eb489']; // Rojo para gastos, azul para balance o ingresos\r\n        bgHover.value = ['#e02d2d', '#2ecc71'];\r\n    } else if (labelsLength === 3) {\r\n        bgColor.value = ['#0369A1', '#f44336', '#2e7d32']; // Verde medio, Rojo, Verde oscuro\r\nbgHover.value = ['#027abd', '#e02d2d', '#1b5e20']; // Verde oscuro, Rojo más oscuro, Verde aún más oscuro\r\n\r\n    }\r\n\r\n    return {\r\n        labels: props.labels,\r\n        datasets: [\r\n            {\r\n                data: props.dataSet,\r\n                backgroundColor: bgColor.value,\r\n                hoverBackgroundColor: bgHover.value\r\n            }\r\n        ]\r\n    };\r\n};\r\n\r\n\r\nconst setChartOptions = () => {\r\n    const documentStyle = getComputedStyle(document.documentElement);\r\n    const textColor = documentStyle.getPropertyValue('--p-text-color');\r\n\r\n    return {\r\n        plugins: {\r\n            legend: {\r\n                labels: {\r\n                    usePointStyle: true,\r\n                    color: textColor\r\n                }\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nonMounted(() => {\r\n    chartData.value = setChartData();\r\n    chartOptions.value = setChartOptions();\r\n\r\n});\r\n</script>\r\n","import script from \"./PieChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PieChart.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"fixed top-0 bottom-0 left-0 right-0 bg-slate-100 -z-20\" }, null, -1)\nconst _hoisted_3 = { class: \"flex flex-col items-center animate-fade-up\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"flex flex-col items-center gap-1 pb-5\"\n}\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"pt-2 text-2xl font-medium text-sky-800 font-poppins\" }, \"Historial De Ventas\", -1)\nconst _hoisted_6 = {\n  key: 1,\n  class: \"flex items-center justify-around w-full my-2\"\n}\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"py-[2px] px-[10px] text-2xl text-white bg-sky-700 rounded-xl shadow-sm\" }, \"Ventas\", -1)\nconst _hoisted_8 = { class: \"flex w-full justify-evenly\" }\nconst _hoisted_9 = { class: \"flex flex-col items-center justify-center gap-1 bg-white shadow-md rounded-xl\" }\nconst _hoisted_10 = { class: \"flex flex-wrap justify-center gap-1\" }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"font-medium text-sky-900\" }, \"Fecha de guardado: \", -1)\nconst _hoisted_12 = { class: \"font-bold text-sky-900\" }\nconst _hoisted_13 = { class: \"flex flex-wrap gap-3\" }\nconst _hoisted_14 = { class: \"font-bold text-sky-700\" }\nconst _hoisted_15 = { class: \"font-bold text-red-600\" }\nconst _hoisted_16 = { class: \"font-bold text-green-800\" }\nconst _hoisted_17 = { class: \"flex flex-wrap justify-center gap-1 shadow-md bg-slate-50 rounded-xl\" }\nconst _hoisted_18 = { class: \"text-base font-bold text-sky-900\" }\nconst _hoisted_19 = {\n  key: 0,\n  class: \"font-medium text-sky-700\"\n}\nconst _hoisted_20 = { class: \"flex flex-wrap justify-center w-full gap-1\" }\nconst _hoisted_21 = {\n  key: 0,\n  class: \"font-medium text-sky-900\"\n}\nconst _hoisted_22 = {\n  key: 1,\n  class: \"font-bold text-sky-900\"\n}\nconst _hoisted_23 = {\n  key: 0,\n  class: \"min-w-[42%]\"\n}\nconst _hoisted_24 = { class: \"flex flex-wrap justify-center gap-1 text-white shadow-md bg-sky-800 rounded-xl\" }\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"font-medium\" }, \"Fecha de guardado:\", -1)\nconst _hoisted_26 = { class: \"font-bold\" }\nconst _hoisted_27 = { class: \"flex flex-col justify-start gap-1 p-1 mb-1 bg-white shadow-md rounded-xl\" }\nconst _hoisted_28 = { class: \"flex flex-wrap gap-1\" }\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"text-base font-medium text-sky-900\" }, \"Motivo:\", -1)\nconst _hoisted_30 = { class: \"text-base font-semibold text-sky-900\" }\nconst _hoisted_31 = { class: \"flex flex-wrap gap-1\" }\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"text-base font-medium text-sky-900\" }, \" Gasto:\", -1)\nconst _hoisted_33 = { class: \"text-base font-semibold text-sky-900\" }\n\nimport MainLayout from '@/layout/MainLayout.vue';\r\nimport { UseBackupHistorySales } from '@/store/UseBackupHistorySales';\r\nimport { UseSalesStore } from '@/store/UseSalesStore';\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport PieChart from '@/components/charts/PieChart.vue';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HistoryView',\n  setup(__props) {\n\r\nconst backupSalesHistory = UseBackupHistorySales();\r\nconst salesHistory = UseSalesStore();\r\nlet salesBackups = computed(() => backupSalesHistory.getBackupsSalesHistory);\r\nlet backupExpenses = computed(() => backupSalesHistory.getBackupsExpensesHistory);\r\nlet totalFinancialHistory = computed(() => salesHistory.getTotalFinancialHistory);\r\n// console.log('salesBackups:', salesBackups);\r\n\r\nlet showExpenses = ref(false);\r\n\r\nconst toggleShowExpenses = () => {\r\n    showExpenses.value = !showExpenses.value;\r\n};\r\n\r\nonMounted(() => {\r\n    console.log('salesBackups:', backupSalesHistory.getBackupsSalesHistory);\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_RouterLink = _resolveComponent(\"RouterLink\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(MainLayout, null, {\n      main: _withCtx(() => [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          (_unref(salesBackups).length<1)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                _hoisted_5,\n                _createElementVNode(\"p\", null, [\n                  _createTextVNode(\"Aqui se mostrará el resumen histórico de ventas cada que se guarden los datos en el boton 'guardar' en la seccion de \"),\n                  _createVNode(_component_RouterLink, {\n                    to: {name: 'sales'},\n                    class: \"text-lg font-bold underline text-sky-800\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"ventas\")\n                    ]),\n                    _: 1\n                  })\n                ])\n              ]))\n            : _createCommentVNode(\"\", true),\n          (_unref(salesBackups).length>0)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                _hoisted_7,\n                _createElementVNode(\"div\", null, [\n                  (!_unref(showExpenses))\n                    ? (_openBlock(), _createElementBlock(\"p\", {\n                        key: 0,\n                        onClick: toggleShowExpenses,\n                        class: \"py-[2px] cursor-pointer px-[10px] text-2xl text-white bg-gray-600 rounded-xl shadow-sm\"\n                      }, \"Ver Gastos\"))\n                    : _createCommentVNode(\"\", true),\n                  (_unref(showExpenses))\n                    ? (_openBlock(), _createElementBlock(\"p\", {\n                        key: 1,\n                        onClick: toggleShowExpenses,\n                        class: \"py-[2px] cursor-pointer px-[10px] text-2xl text-white bg-sky-700 rounded-xl shadow-sm\"\n                      }, \"Ocultar gastos\"))\n                    : _createCommentVNode(\"\", true)\n                ])\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"section\", _hoisted_8, [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([{'w-full': !_unref(showExpenses)}, \"flex flex-col min-w-[55%]\"])\n            }, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(salesBackups), (arr) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  key: arr,\n                  class: \"flex flex-col gap-1 p-1 py-1 mb-4 overflow-auto bg-gray-200 shadow-md full max-h-96 min-h-96 rounded-xl\"\n                }, [\n                  _createElementVNode(\"div\", _hoisted_9, [\n                    _createElementVNode(\"div\", _hoisted_10, [\n                      _hoisted_11,\n                      _createElementVNode(\"p\", _hoisted_12, _toDisplayString(arr[0][0].itemDate.substring(0, 9)), 1)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_13, [\n                      _createElementVNode(\"p\", _hoisted_14, \"Ingresos Netos: $\" + _toDisplayString(_unref(totalFinancialHistory)[_unref(salesBackups).indexOf(arr)].totalSale), 1),\n                      _createElementVNode(\"p\", _hoisted_15, \"Gastos: $\" + _toDisplayString(_unref(totalFinancialHistory)[_unref(salesBackups).indexOf(arr)].totalExpenses), 1),\n                      _createElementVNode(\"p\", _hoisted_16, \"Balance: $ \" + _toDisplayString(_unref(totalFinancialHistory)[_unref(salesBackups).indexOf(arr)].finalBalance), 1)\n                    ]),\n                    _createVNode(PieChart, {\n                      dataSet: [\r\n                                        _unref(totalFinancialHistory)[_unref(salesBackups).indexOf(arr)].totalSale,\r\n                                        _unref(totalFinancialHistory)[_unref(salesBackups).indexOf(arr)].totalExpenses,\r\n                                        _unref(totalFinancialHistory)[_unref(salesBackups).indexOf(arr)].finalBalance\r\n                                ]\n                    }, null, 8, [\"dataSet\"])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_17, [\n                    _createElementVNode(\"p\", _hoisted_18, _toDisplayString(arr.length) + \" ventas\", 1)\n                  ]),\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(arr, (elm) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: elm,\n                      class: \"px-3 py-2 shadow-md bg-slate-50 rounded-xl\"\n                    }, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elm, (item) => {\n                        return (_openBlock(), _createElementBlock(\"div\", {\n                          key: item,\n                          class: \"flex flex-wrap\"\n                        }, [\n                          (item.itemName)\n                            ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, _toDisplayString(item.itemAmount) + \" \" + _toDisplayString(item.itemName) + \" de $\" + _toDisplayString(item.itemPrice), 1))\n                            : _createCommentVNode(\"\", true),\n                          _createElementVNode(\"div\", _hoisted_20, [\n                            (item.grandTotal)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_21, \"Total en esta venta:\"))\n                              : _createCommentVNode(\"\", true),\n                            (item.grandTotal)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_22, \"$\" + _toDisplayString(item.grandTotal), 1))\n                              : _createCommentVNode(\"\", true)\n                          ])\n                        ]))\n                      }), 128))\n                    ]))\n                  }), 128))\n                ]))\n              }), 128))\n            ], 2),\n            (_unref(showExpenses))\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(backupExpenses), (item) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: item,\n                      class: \"flex flex-col gap-1 p-3 py-2 mb-4 overflow-auto bg-gray-100 shadow-md full max-h-96 min-h-96 rounded-xl\"\n                    }, [\n                      _createElementVNode(\"div\", _hoisted_24, [\n                        _hoisted_25,\n                        _createElementVNode(\"p\", _hoisted_26, _toDisplayString(item[0].expenseDate.substring(0, 9)), 1)\n                      ]),\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item, (elm) => {\n                        return (_openBlock(), _createElementBlock(\"div\", { key: elm }, [\n                          _createElementVNode(\"div\", _hoisted_27, [\n                            _createElementVNode(\"div\", _hoisted_28, [\n                              _hoisted_29,\n                              _createElementVNode(\"p\", _hoisted_30, \"'\" + _toDisplayString(elm.expenseReason) + \"' \", 1)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_31, [\n                              _hoisted_32,\n                              _createElementVNode(\"p\", _hoisted_33, \" $\" + _toDisplayString(elm.expenseAmount), 1)\n                            ])\n                          ])\n                        ]))\n                      }), 128))\n                    ]))\n                  }), 128))\n                ]))\n              : _createCommentVNode(\"\", true)\n          ])\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"\">\r\n       <MainLayout>\r\n            <template #main>\r\n                <div class=\"fixed top-0 bottom-0 left-0 right-0 bg-slate-100 -z-20\">\r\n                </div>\r\n                <div class=\"flex flex-col items-center animate-fade-up\">\r\n                    <div v-if=\"salesBackups.length<1\" class=\"flex flex-col items-center gap-1 pb-5\">\r\n                        <h1 class=\"pt-2 text-2xl font-medium text-sky-800 font-poppins\">Historial De Ventas</h1>\r\n                        <p>Aqui se mostrará el resumen histórico de ventas cada que se guarden los datos en el boton 'guardar' en la seccion de <RouterLink :to=\"{name: 'sales'}\" class=\"text-lg font-bold underline text-sky-800\">ventas</RouterLink></p>\r\n                    </div>\r\n                    <div v-if=\"salesBackups.length>0\" class=\"flex items-center justify-around w-full my-2\">\r\n                        <p  class=\"py-[2px] px-[10px] text-2xl text-white bg-sky-700 rounded-xl shadow-sm\" >Ventas</p>\r\n                        <div>\r\n                            <p @click=\"toggleShowExpenses\" v-if=\"!showExpenses\" class=\"py-[2px] cursor-pointer px-[10px] text-2xl text-white bg-gray-600 rounded-xl shadow-sm\" >Ver Gastos</p>\r\n                            <p @click=\"toggleShowExpenses\" v-if=\"showExpenses\" class=\"py-[2px] cursor-pointer px-[10px] text-2xl text-white bg-sky-700 rounded-xl shadow-sm\" >Ocultar gastos</p>\r\n                        </div>\r\n                        <!-- <p @click=\"toggleShowExpenses\" v-if=\"!showExpenses\" class=\"text-3xl text-white bg-sky-500 rounded-2xl py-[2px] px-[10px] shadow-sm\" >Mostrar Gastos</p> -->\r\n                    </div>\r\n                    <section  class=\"flex w-full justify-evenly\" >\r\n                        <!-- Sales History -->\r\n                        <div :class=\"{'w-full': !showExpenses}\" class=\"flex flex-col min-w-[55%] \">\r\n                            <div v-for=\"(arr) in salesBackups\" :key=\"arr\" class=\"flex flex-col gap-1 p-1 py-1 mb-4 overflow-auto bg-gray-200 shadow-md full max-h-96 min-h-96 rounded-xl\" >\r\n                                <div class=\"flex flex-col items-center justify-center gap-1 bg-white shadow-md rounded-xl\">\r\n                                    <div class=\"flex flex-wrap justify-center gap-1\">\r\n                                        <p class=\"font-medium text-sky-900\">Fecha de guardado: </p>\r\n                                        <p class=\"font-bold text-sky-900\">{{ arr[0][0].itemDate.substring(0, 9) }}</p>\r\n                                    </div>\r\n\r\n                                    <div class=\"flex flex-wrap gap-3\">\r\n                                        <p class=\"font-bold text-sky-700\">Ingresos Netos: ${{ totalFinancialHistory[salesBackups.indexOf(arr)].totalSale}}</p>\r\n                                        <p class=\"font-bold text-red-600\">Gastos: ${{ totalFinancialHistory[salesBackups.indexOf(arr)].totalExpenses}}</p>\r\n                                        <p class=\"font-bold text-green-800\">Balance: $ {{ totalFinancialHistory[salesBackups.indexOf(arr)].finalBalance}}</p>\r\n                                    </div>\r\n                                        \r\n                                    <PieChart  :dataSet=\"[\r\n                                        totalFinancialHistory[salesBackups.indexOf(arr)].totalSale,\r\n                                        totalFinancialHistory[salesBackups.indexOf(arr)].totalExpenses,\r\n                                        totalFinancialHistory[salesBackups.indexOf(arr)].finalBalance\r\n                                ]\" />\r\n                               \r\n                                </div>\r\n                                <div class=\"flex flex-wrap justify-center gap-1 shadow-md bg-slate-50 rounded-xl\">\r\n                                    <p class=\"text-base font-bold text-sky-900\">{{ arr.length }} ventas</p>\r\n                                </div>\r\n                                <div v-for=\"(elm) in arr\" :key=\"elm\" class=\"px-3 py-2 shadow-md bg-slate-50 rounded-xl\">\r\n                                    <div v-for=\"(item) in elm\" :key=\"item\"  class=\"flex flex-wrap\">\r\n                                        <p v-if=\"item.itemName\" class=\"font-medium text-sky-700\">{{ item.itemAmount }} {{ item.itemName }} de ${{ item.itemPrice }}</p>\r\n                                        <div class=\"flex flex-wrap justify-center w-full gap-1\">\r\n                                            <p v-if=\"item.grandTotal\" class=\"font-medium text-sky-900\">Total en esta venta:</p>\r\n                                            <p v-if=\"item.grandTotal\" class=\"font-bold text-sky-900\">${{ item.grandTotal }}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <!-- Expenses History -->\r\n                        <div v-if=\"showExpenses\" class=\"min-w-[42%] \">\r\n                            <!-- TO FIX: when user clicks on add expense button, button pushes an array, that's causing errors while trying to iterate through it, need to fix by changing the method to push from an array to an object (when user clicks on add expense button it should push an object instead of an array) -->\r\n                            <div v-for=\"(item) in backupExpenses\" :key=\"item\" class=\"flex flex-col gap-1 p-3 py-2 mb-4 overflow-auto bg-gray-100 shadow-md full max-h-96 min-h-96 rounded-xl\">\r\n                                <div class=\"flex flex-wrap justify-center gap-1 text-white shadow-md bg-sky-800 rounded-xl\">\r\n                                    <p class=\"font-medium \">Fecha de guardado:</p>\r\n                                    <p class=\"font-bold\">{{ item[0].expenseDate.substring(0, 9) }}</p>\r\n                                </div>\r\n                                <div v-for=\"(elm) in item\" :key=\"elm\">\r\n                                    <div class=\"flex flex-col justify-start gap-1 p-1 mb-1 bg-white shadow-md rounded-xl\">\r\n                                        <div class=\"flex flex-wrap gap-1\">\r\n                                            <p class=\"text-base font-medium text-sky-900\">Motivo:</p>\r\n                                            <p class=\"text-base font-semibold text-sky-900\">'{{ elm.expenseReason }}' </p>\r\n                                        </div>\r\n                                        <div class=\"flex flex-wrap gap-1\">\r\n                                            <p class=\"text-base font-medium text-sky-900\"> Gasto:</p>\r\n                                            <p class=\"text-base font-semibold text-sky-900\"> ${{ elm.expenseAmount }}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            </template>\r\n       </MainLayout>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport MainLayout from '@/layout/MainLayout.vue';\r\nimport { UseBackupHistorySales } from '@/store/UseBackupHistorySales';\r\nimport { UseSalesStore } from '@/store/UseSalesStore';\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport PieChart from '@/components/charts/PieChart.vue';\r\n\r\nconst backupSalesHistory = UseBackupHistorySales();\r\nconst salesHistory = UseSalesStore();\r\nlet salesBackups = computed(() => backupSalesHistory.getBackupsSalesHistory);\r\nlet backupExpenses = computed(() => backupSalesHistory.getBackupsExpensesHistory);\r\nlet totalFinancialHistory = computed(() => salesHistory.getTotalFinancialHistory);\r\n// console.log('salesBackups:', salesBackups);\r\n\r\nlet showExpenses = ref(false);\r\n\r\nconst toggleShowExpenses = () => {\r\n    showExpenses.value = !showExpenses.value;\r\n};\r\n\r\nonMounted(() => {\r\n    console.log('salesBackups:', backupSalesHistory.getBackupsSalesHistory);\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./HistoryView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./HistoryView.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["UseBackupHistorySales","defineStore","state","allBackupsHistorySales","allBackupsHistoryExpenses","getters","getBackupsSalesHistory","this","getBackupsExpensesHistory","actions","pushNewBackupSale","newBackup","unshift","pushNewBackupExpense","persist","props","__props","chartData","ref","chartOptions","bgColor","bgHover","setChartData","labelsLength","labels","length","value","datasets","data","dataSet","backgroundColor","hoverBackgroundColor","setChartOptions","documentStyle","getComputedStyle","document","documentElement","textColor","getPropertyValue","plugins","legend","usePointStyle","color","onMounted","__exports__","_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","key","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_defineComponent","__name","setup","backupSalesHistory","salesHistory","UseSalesStore","salesBackups","computed","backupExpenses","totalFinancialHistory","getTotalFinancialHistory","showExpenses","toggleShowExpenses","console","log","_ctx","_cache","_component_RouterLink","_resolveComponent","_openBlock","_createElementBlock","_createVNode","MainLayout","main","_withCtx","_unref","_createTextVNode","to","name","default","_","_createCommentVNode","onClick","_normalizeClass","_Fragment","_renderList","arr","_toDisplayString","itemDate","substring","indexOf","totalSale","totalExpenses","finalBalance","PieChart","elm","item","itemName","itemAmount","itemPrice","grandTotal","expenseDate","expenseReason","expenseAmount"],"sourceRoot":""}