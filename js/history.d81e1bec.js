"use strict";(self["webpackChunkquick_flow"]=self["webpackChunkquick_flow"]||[]).push([[141],{8362:function(e,s,t){t.d(s,{C:function(){return l}});var a=t(5234);const l=(0,a.nY)("UseBackupHistorySales",{state(){return{allBackupsHistorySales:[],allBackupsHistoryExpenses:[]}},getters:{getBackupsSalesHistory(){return this.allBackupsHistorySales},getBackupsExpensesHistory(){return this.allBackupsHistoryExpenses}},actions:{pushNewBackupSale(e){this.allBackupsHistorySales.unshift(e)},pushNewBackupExpense(e){this.allBackupsHistoryExpenses.unshift(e)}},persist:!0})},361:function(e,s,t){t.d(s,{A:function(){return r}});var a=t(6768),l=t(144);const n={class:"flex justify-center card"};var o={__name:"PieChart",props:{labels:{type:Array,required:!0,default:()=>["Ingresos Totales","Gastos Totales","Balance Final"]},dataSet:{type:Array,required:!0,default:()=>[1e4,1e3,9e3]}},setup(e){const s=e,t=(0,l.KR)(),o=(0,l.KR)(),u=(0,l.KR)(),r=(0,l.KR)(),d=()=>{const e=s.labels.length;return 2===e?(u.value=["#db3c30","#3eb489"],r.value=["#e02d2d","#2ecc71"]):3===e&&(u.value=["#0369A1","#f44336","#2e7d32"],r.value=["#027abd","#e02d2d","#1b5e20"]),{labels:s.labels,datasets:[{data:s.dataSet,backgroundColor:u.value,hoverBackgroundColor:r.value}]}},i=()=>{const e=getComputedStyle(document.documentElement),s=e.getPropertyValue("--p-text-color");return{plugins:{legend:{labels:{usePointStyle:!0,color:s}}}}};return(0,a.sV)((()=>{t.value=d(),o.value=i()})),(e,s)=>{const l=(0,a.g2)("PrimeChart");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(l,{type:"pie",data:t.value,options:o.value,class:"w-52 sm:w-[18rem]"},null,8,["data","options"])])}}};const u=o;var r=u},7045:function(e,s,t){t.r(s),t.d(s,{default:function(){return P}});var a=t(6768),l=t(144),n=t(4232),o=t(2073),u=t(8362),r=t(489),d=t(361);const i={class:""},c=(0,a.Lk)("div",{class:"fixed top-0 bottom-0 left-0 right-0 bg-slate-100 -z-20"},null,-1),p={class:"flex flex-col items-center animate-fade-up"},x={key:0,class:"flex items-center justify-around w-full my-2"},f=(0,a.Lk)("p",{class:"py-[2px] px-[10px] text-2xl text-white bg-sky-700 rounded-xl shadow-sm"},"Ventas",-1),k={class:"flex w-full justify-evenly"},y={class:"flex flex-col items-center justify-center gap-1 bg-white shadow-md rounded-xl"},v={class:"flex flex-wrap justify-center gap-1"},m=(0,a.Lk)("p",{class:"font-medium text-sky-900"},"Fecha de guardado: ",-1),g={class:"font-bold text-sky-900"},b={class:"flex flex-wrap gap-3"},w={class:"font-bold text-sky-700"},h={class:"font-bold text-red-600"},C={class:"font-bold text-green-800"},E={class:"flex flex-wrap justify-center gap-1 shadow-md bg-slate-50 rounded-xl"},L={class:"text-base font-bold text-sky-900"},R={key:0,class:"font-medium text-sky-700"},B={class:"flex flex-wrap justify-center w-full gap-1"},X={key:0,class:"font-medium text-sky-900"},_={key:1,class:"font-bold text-sky-900"},S={key:0,class:"min-w-[42%]"},H={class:"flex flex-wrap justify-center gap-1 text-white shadow-md bg-sky-800 rounded-xl"},F=(0,a.Lk)("p",{class:"font-medium"},"Fecha de guardado:",-1),K={class:"font-bold"},j={class:"flex flex-col justify-start gap-1 p-1 mb-1 bg-white shadow-md rounded-xl"},A={class:"flex flex-wrap gap-1"},I=(0,a.Lk)("p",{class:"text-base font-medium text-sky-900"},"Motivo:",-1),O={class:"text-base font-semibold text-sky-900"},Q={class:"flex flex-wrap gap-1"},T=(0,a.Lk)("p",{class:"text-base font-medium text-sky-900"}," Gasto:",-1),V={class:"text-base font-semibold text-sky-900"};var $=(0,a.pM)({__name:"HistoryView",setup(e){const s=(0,u.C)(),t=(0,r.t)();let $=(0,a.EW)((()=>s.getBackupsSalesHistory)),N=(0,a.EW)((()=>s.getBackupsExpensesHistory)),P=(0,a.EW)((()=>t.getTotalFinancialHistory)),q=(0,l.KR)(!1);const G=()=>{q.value=!q.value};return(0,a.sV)((()=>{console.log("salesBackups:",s.getBackupsSalesHistory)})),(e,s)=>((0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(o.A,null,{main:(0,a.k6)((()=>[c,(0,a.Lk)("div",p,[(0,l.R1)($).length>0?((0,a.uX)(),(0,a.CE)("div",x,[f,(0,a.Lk)("div",null,[(0,l.R1)(q)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("p",{key:0,onClick:G,class:"py-[2px] cursor-pointer px-[10px] text-2xl text-white bg-gray-600 rounded-xl shadow-sm"},"Ver Gastos")),(0,l.R1)(q)?((0,a.uX)(),(0,a.CE)("p",{key:1,onClick:G,class:"py-[2px] cursor-pointer px-[10px] text-2xl text-white bg-sky-700 rounded-xl shadow-sm"},"Ocultar gastos")):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),(0,a.Lk)("section",k,[(0,a.Lk)("div",{class:(0,n.C4)([{"w-full":!(0,l.R1)(q)},"flex flex-col min-w-[55%]"])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,l.R1)($),(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"flex flex-col gap-1 p-1 py-1 mb-4 overflow-auto bg-gray-200 shadow-md full max-h-96 min-h-96 rounded-xl"},[(0,a.Lk)("div",y,[(0,a.Lk)("div",v,[m,(0,a.Lk)("p",g,(0,n.v_)(e[0][0].itemDate.substring(0,9)),1)]),(0,a.Lk)("div",b,[(0,a.Lk)("p",w,"Ingresos Netos: $"+(0,n.v_)((0,l.R1)(P)[(0,l.R1)($).indexOf(e)].totalSale),1),(0,a.Lk)("p",h,"Gastos: $"+(0,n.v_)((0,l.R1)(P)[(0,l.R1)($).indexOf(e)].totalExpenses),1),(0,a.Lk)("p",C,"Balance: $ "+(0,n.v_)((0,l.R1)(P)[(0,l.R1)($).indexOf(e)].finalBalance),1)]),(0,a.bF)(d.A,{dataSet:[(0,l.R1)(P)[(0,l.R1)($).indexOf(e)].totalSale,(0,l.R1)(P)[(0,l.R1)($).indexOf(e)].totalExpenses,(0,l.R1)(P)[(0,l.R1)($).indexOf(e)].finalBalance]},null,8,["dataSet"])]),(0,a.Lk)("div",E,[(0,a.Lk)("p",L,(0,n.v_)(e.length)+" ventas",1)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"px-3 py-2 shadow-md bg-slate-50 rounded-xl"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"flex flex-wrap"},[e.itemName?((0,a.uX)(),(0,a.CE)("p",R,(0,n.v_)(e.itemAmount)+" "+(0,n.v_)(e.itemName)+" de $"+(0,n.v_)(e.itemPrice),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",B,[e.grandTotal?((0,a.uX)(),(0,a.CE)("p",X,"Total en esta venta:")):(0,a.Q3)("",!0),e.grandTotal?((0,a.uX)(),(0,a.CE)("p",_,"$"+(0,n.v_)(e.grandTotal),1)):(0,a.Q3)("",!0)])])))),128))])))),128))])))),128))],2),(0,l.R1)(q)?((0,a.uX)(),(0,a.CE)("div",S,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,l.R1)(N),(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"flex flex-col gap-1 p-3 py-2 mb-4 overflow-auto bg-gray-100 shadow-md full max-h-96 min-h-96 rounded-xl"},[(0,a.Lk)("div",H,[F,(0,a.Lk)("p",K,(0,n.v_)(e[0].expenseDate.substring(0,9)),1)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e},[(0,a.Lk)("div",j,[(0,a.Lk)("div",A,[I,(0,a.Lk)("p",O,"'"+(0,n.v_)(e.expenseReason)+"' ",1)]),(0,a.Lk)("div",Q,[T,(0,a.Lk)("p",V," $"+(0,n.v_)(e.expenseAmount),1)])])])))),128))])))),128))])):(0,a.Q3)("",!0)])])])),_:1})]))}});const N=$;var P=N}}]);
//# sourceMappingURL=history.d81e1bec.js.map