"use strict";(self["webpackChunkquick_flow"]=self["webpackChunkquick_flow"]||[]).push([[189],{8362:function(e,t,s){s.d(t,{C:function(){return a}});var l=s(5234);const a=(0,l.nY)("UseBackupHistorySales",{state(){return{allBackupsHistorySales:[],allBackupsHistoryExpenses:[]}},getters:{getBackupsSalesHistory(){return this.allBackupsHistorySales},getBackupsExpensesHistory(){return this.allBackupsHistoryExpenses}},actions:{pushNewBackupSale(e){this.allBackupsHistorySales.unshift(e)},pushNewBackupExpense(e){this.allBackupsHistoryExpenses.unshift(e)}},persist:!0})},361:function(e,t,s){s.d(t,{A:function(){return u}});var l=s(6768),a=s(144);const o={class:"flex justify-center card"};var n={__name:"PieChart",props:{labels:{type:Array,required:!0,default:()=>["Ingresos Totales","Gastos Totales","Balance Final"]},dataSet:{type:Array,required:!0,default:()=>[1e4,1e3,9e3]}},setup(e){const t=e,s=(0,a.KR)(),n=(0,a.KR)(),r=(0,a.KR)(),u=(0,a.KR)(),i=()=>{const e=t.labels.length;return 2===e?(r.value=["#db3c30","#3eb489"],u.value=["#e02d2d","#2ecc71"]):3===e&&(r.value=["#0369A1","#f44336","#2e7d32"],u.value=["#027abd","#e02d2d","#1b5e20"]),{labels:t.labels,datasets:[{data:t.dataSet,backgroundColor:r.value,hoverBackgroundColor:u.value}]}},c=()=>{const e=getComputedStyle(document.documentElement),t=e.getPropertyValue("--p-text-color");return{plugins:{legend:{labels:{usePointStyle:!0,color:t}}}}};return(0,l.sV)((()=>{s.value=i(),n.value=c()})),(e,t)=>{const a=(0,l.g2)("PrimeChart");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(a,{type:"pie",data:s.value,options:n.value,class:"w-52 sm:w-[18rem]"},null,8,["data","options"])])}}};const r=n;var u=r},8739:function(e,t,s){s.r(t),s.d(t,{default:function(){return ae}});s(4114);var l=s(6768),a=s(144),o=s(4232),n=s(5130),r=s(3443),u=s(489),i=s(8362),c=s(9148),d=s.n(c),p=s(9560),x=s(361);const m={class:""},f=(0,l.Lk)("div",{class:"fixed top-0 bottom-0 left-0 right-0 bg-slate-100 -z-20"},null,-1),k={class:"flex flex-col gap-4 min-h-dvh pb-9 animate-fade-down"},v=(0,l.Lk)("h1",{class:"text-3xl font-medium font-poppins text-sky-800"},"Ventas",-1),y=(0,l.Lk)("h2",{class:"text-xl font-"},"Ir al inicio",-1),g={class:"flex items-center pl-3"},h={class:"flex p-1 bg-white shadow-md rounded-2xl"},b=(0,l.Lk)("h2",{class:"text-lg font-medium text-[#2B695D]"},"Ingresos Netos: ",-1),w={class:"flex items-center pl-2 text-lg font-medium justify-left font-poppins"},E={key:0,class:"pr-2 text-xl text-[#2B695D]"},R={key:1,class:"pr-2 text-xl text-[#2B695D]"},C={class:"flex items-center pl-3"},L=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Ver Informacion detallada",-1),B={class:"flex items-center pl-2 text-lg justify-left font-poppins"},S={key:0,class:"box-border py-2 mx-2 bg-white shadow-md rounded-2xl animate-fade-up"},H={class:"flex flex-wrap items-center justify-center w-full gap-1"},X={class:"flex items-center gap-2 ml-1 text-lg justify-left font-poppins"},K=(0,l.Lk)("h2",{class:"text-lg font-medium text-red-900"},"Gastos: ",-1),Q={key:0,class:"text-xl font-medium text-red-900"},D={key:1,class:"text-xl font-medium text-red-900"},_={class:"flex items-center gap-2 ml-2 text-lg justify-left font-poppins"},F=(0,l.Lk)("h2",{class:"text-lg font-medium text-[#2B695D]"},"Balance Final: ",-1),A={key:0,class:"text-xl font-medium text-[#2B695D]"},N={key:1,class:"text-xl font-medium text-[#2B695D]"},T={class:"flex flex-col items-start w-full gap-2 ml-5 text-lg font-poppins"},j={class:"flex items-center gap-2"},U=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Agregar Gasto",-1),V={key:0,class:"flex flex-col items-start gap-2 animate-fade-right"},$=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Motivo",-1),G=(0,l.Lk)("h2",{class:"text-lg font-medium text-sky-800"},"Gasto",-1),W={class:"flex items-center bg-white shadow-sm"},I=(0,l.Lk)("p",null,"$",-1),M={key:0,class:"p-1 text-xl font-medium text-white rounded-xl bg-sky-800 animate-flip-up"},Y={key:1,class:"text-sm font-semibold text-red-700"},q={class:"flex flex-wrap justify-center gap-5"},P={class:"absolute top-1 right-1"},J={class:"text-sm font-medium text-sky-800"},z={class:"flex flex-wrap items-center justify-start w-full gap-1"},O={key:0,class:"text-lg font-medium text-sky-700"},Z={key:1,class:"text-lg font-medium text-sky-700"},ee={key:2,class:"text-lg font-medium underline text-sky-900"},te={class:"pt-2 text-xl font-bold text-sky-900"};var se=(0,l.pM)({__name:"SalesView",setup(e){const t=(0,u.t)();let s=(0,u.t)().getSalesHistory;const c=(0,i.C)();let se=(0,a.KR)(0),le=(0,a.KR)(!1),ae=(0,a.KR)(!0);const oe=()=>le.value=!le.value;let ne=(0,a.KR)(0);let re=(0,a.KR)(!1),ue=(0,a.KR)("");const ie=(0,a.KR)(!1);let ce=(0,a.KR)(""),de=(0,a.KR)(""),pe=(0,a.KR)(0),xe=null,me=(0,a.KR)(!1);const fe=()=>{me.value=!me.value},ke=()=>{if(!de.value||!pe.value)return ie.value=!0,void(ce.value="Verifica haber rellenado todos los campos");ie.value=!1,ae.value=!1;const e=(0,a.Kh)({expenseReason:de.value,expenseAmount:pe.value,expenseDate:d()().format("DD/MM/YY HH:mm:ss")});xe&&clearTimeout(xe);try{re.value=!1,t.pushUserNewExpense(e),de.value="",pe.value=0,ie.value=!1,console.log("Expense added successfully",t.getUserExpenses),ne.value=t.getExpensesReduced,ve.value=se.value-t.getExpensesReduced,re.value=!0,ue.value="Gasto añadido correctamente",xe=setTimeout((()=>{re.value=!1,ae.value=!0}),2e3)}catch(s){console.error("Could not add expenses",s)}};let ve=(0,a.KR)(0),ye=(0,a.KR)(!1);const ge=()=>{ye.value=!ye.value,ye.value?le.value=!0:le.value=!1},he=()=>{try{if(t.getSalesHistory.length<1)return void alert("Necesitas tener al menos una venta");if(t.getUserExpenses.length<1)return c.pushNewBackupSale(s),c.pushNewBackupExpense([{expenseReason:"No hay gastos",expenseAmount:0,expenseDate:d()().format("DD/MM/YY HH:mm:ss")}]),t.pushNewFinancialHistory({totalSale:se.value,totalExpenses:ne.value,finalBalance:ve.value}),console.log("History Backup:",(0,i.C)().getBackupsExpensesHistory),console.log("SalesStore before deletion:",t.getSalesHistory),t.resetSalesHistory(),t.resetUserExpenses(),console.log("SalesStore after deletion:",t.getSalesHistory),s=t.getSalesHistory,t.resetTotalEarnedHistory(),t.resetTotalEarned(),se.value=t.getTotalEarned,void p.A.push({name:"history"});c.pushNewBackupSale(t.getSalesHistory),c.pushNewBackupExpense(t.getUserExpenses),t.pushNewFinancialHistory({totalSale:se.value,totalExpenses:ne.value,finalBalance:ve.value}),t.resetTotalEarnedHistory(),t.resetTotalEarned(),se.value=t.getTotalEarned,t.resetSalesHistory(),t.resetUserExpenses(),s=[],p.A.push({name:"history"})}catch(e){console.log("Error while trying to push backup")}};return(0,l.sV)((()=>{s.length>0&&(se.value=t.getTotalEarned,ne.value=t.getExpensesReduced,ve.value=t.getTotalEarned-t.getExpensesReduced),console.log("total gastos: ",t.getUserExpenses)})),(e,t)=>{const u=(0,l.g2)("v-icon"),i=(0,l.g2)("RouterLink");return(0,l.uX)(),(0,l.CE)("div",m,[(0,l.bF)(r.A,null,{main:(0,l.k6)((()=>[f,(0,l.Lk)("div",k,[v,(0,l.bF)(i,{to:{name:"home"},class:"flex items-center gap-2 p-1 ml-3 bg-white shadow-md animate-delay-200 animate-fade-down min-w-32 text-sky-800 rounded-2xl max-w-44"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{name:"hi-solid-home",color:"#246D93",scale:"1.6"}),y])),_:1}),(0,l.Lk)("div",g,[(0,l.Lk)("div",h,[(0,l.bF)(u,{class:"pr-1 bg-white cursor-pointer rounded-l-3xl",name:"gi-receive-money",scale:"1.5",color:"#2B695D"}),b,(0,l.Lk)("div",w,[(0,a.R1)(le)?((0,l.uX)(),(0,l.CE)("h2",E,"$"+(0,o.v_)((0,a.R1)(se)),1)):(0,l.Q3)("",!0),(0,a.R1)(le)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("h2",R,"$****")),(0,a.R1)(le)?((0,l.uX)(),(0,l.Wv)(u,{key:2,class:"cursor-pointer",onClick:oe,name:"io-eye-off-sharp",scale:"1.5",color:"#075985"})):(0,l.Q3)("",!0),(0,a.R1)(le)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(u,{key:3,class:"cursor-pointer",onClick:oe,name:"io-eye-sharp",scale:"1.5",color:"#075985"}))])])]),(0,l.Lk)("div",C,[(0,l.Lk)("div",{onClick:ge,class:"flex p-1 px-2 bg-white shadow-md cursor-pointer rounded-2xl"},[L,(0,l.Lk)("div",B,[(0,a.R1)(ye)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"cursor-pointer",name:"md-expandcircledown-round",scale:"1.5",color:"#075985"})),(0,a.R1)(ye)?((0,l.uX)(),(0,l.Wv)(u,{key:1,class:"cursor-pointer",name:"md-expandcircledown-round",scale:"1.5",color:"#075985",flip:"vertical"})):(0,l.Q3)("",!0)])])]),(0,a.R1)(ye)?((0,l.uX)(),(0,l.CE)("section",S,[(0,l.Lk)("div",H,[(0,l.Lk)("div",X,[(0,l.bF)(u,{class:"bg-white cursor-pointer rounded-l-3xl",name:"gi-pay-money",scale:"1.5",color:"#7F1D1D"}),K,(0,a.R1)(le)?((0,l.uX)(),(0,l.CE)("h2",Q,"$"+(0,o.v_)((0,a.R1)(ne)),1)):(0,l.Q3)("",!0),(0,a.R1)(le)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("h2",D,"$****"))]),(0,l.Lk)("div",_,[(0,l.bF)(u,{class:"bg-white cursor-pointer rounded-l-3xl",name:"gi-money-stack",scale:"1.5",color:"#2B695D"}),F,(0,a.R1)(le)?((0,l.uX)(),(0,l.CE)("h2",A,"$"+(0,o.v_)((0,a.R1)(ve)),1)):(0,l.Q3)("",!0),(0,a.R1)(le)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("h2",N,"$****"))])]),(0,a.R1)(ae)?((0,l.uX)(),(0,l.Wv)(x.A,{key:0,labels:["Gastos","Balance Final"],dataSet:[(0,a.R1)(ne),(0,a.R1)(ve)]},null,8,["dataSet"])):(0,l.Q3)("",!0),(0,l.Lk)("div",T,[(0,l.Lk)("div",j,[U,(0,a.R1)(me)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"cursor-pointer",onClick:fe,name:"md-addbox",scale:"1.2",color:"#075985"})),(0,a.R1)(me)?((0,l.uX)(),(0,l.Wv)(u,{key:1,class:"cursor-pointer",onClick:fe,name:"ri-checkbox-indeterminate-fill",scale:"1.2",color:"#075985"})):(0,l.Q3)("",!0)]),(0,a.R1)(me)?((0,l.uX)(),(0,l.CE)("section",V,[$,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.i9)(de)?de.value=e:de=e),class:"w-full border-b-[1px] border-sky-800 shadow-sm focus:outline-none",type:"text",placeholder:"Compré agua y gas"},null,512),[[n.Jo,(0,a.R1)(de)]]),G,(0,l.Lk)("div",W,[I,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.i9)(pe)?pe.value=e:pe=e),class:"w-full border-b-[1px] border-sky-800 shadow-sm focus:outline-none",type:"number",placeholder:"250",min:"0"},null,512),[[n.Jo,(0,a.R1)(pe)]])]),(0,l.Lk)("div",null,[(0,a.R1)(re)?((0,l.uX)(),(0,l.CE)("p",M,(0,o.v_)((0,a.R1)(ue))+"!",1)):(0,l.Q3)("",!0),ie.value?((0,l.uX)(),(0,l.CE)("p",Y,(0,o.v_)((0,a.R1)(ce))+"!",1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{onClick:ke,class:"p-1 text-xl text-white rounded-lg bg-sky-700 font-poppins"},"Añadir Gasto")])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),(0,l.Lk)("div",{class:"flex justify-end w-full pr-6 mt-9"},[(0,l.Lk)("button",{onClick:he,class:"p-1 text-sm text-white rounded-lg bg-sky-700 font-poppins min-w-48"},"Guardar y Reestablecer Datos")]),(0,l.Lk)("section",q,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,a.R1)(s),((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"box-border relative flex flex-col items-start w-11/12 px-2 transition-transform duration-300 ease-out bg-white shadow-md tex8-black py-7 rounded-xl justify-evenly min-w-24 min-h-44 font-poppins hover:border-sky-800 hover:border hover:scale-105"},[(0,l.Lk)("div",P,[(0,l.Lk)("p",J,"Fecha: "+(0,o.v_)(e[0].itemDate),1)]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"flex items-center justify-center w-full"},[(0,l.Lk)("div",z,[e.itemAmount?((0,l.uX)(),(0,l.CE)("p",O,(0,o.v_)(e.itemAmount),1)):(0,l.Q3)("",!0),e.itemName?((0,l.uX)(),(0,l.CE)("p",Z,(0,o.v_)(e.itemName),1)):(0,l.Q3)("",!0),e.itemSubtotal?((0,l.uX)(),(0,l.CE)("p",ee,"$"+(0,o.v_)(e.itemSubtotal),1)):(0,l.Q3)("",!0)])])))),128)),(0,l.Lk)("p",te,"Total: $"+(0,o.v_)(e[0].grandTotal)+".00 ",1)])))),128))])])])),_:1})])}}});const le=se;var ae=le}}]);
//# sourceMappingURL=sales.d31e5620.js.map